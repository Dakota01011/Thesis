#include <iostream>
#include <stdio.h>
#include <time.h>
#include "xparameters.h"
#include "xil_printf.h"
#include "KNN.h"
#include "KNN_accelerator.h"
#include "platform.h"
#include "DataSet.h"
using namespace std;

int main() {

	init_platform();
	print("Hello!\n\r");

	int myIntDataSet[NUM_POINTS][NUM_FEATURES];
	DataSet set;
	set.getMyIntDataSet(myIntDataSet);

	// testPoint at location (2, 2, 2, 2, 2)
	int testPoint[NUM_FEATURES] = {-1, 1, 2, 2, 2, 3};

	print("Now calculating...\n\r");

	clock_t t1,t2;

	// k = 3
	t1 = clock();
	KNN::kNNClassify(testPoint, myIntDataSet, 3);
	t2 = clock();
	float diff ((float)t2-(float)t1);

	t1 = clock();
	KNN::kNNFPGAClassify(testPoint, myIntDataSet, 3);
	t2 = clock();
	float diff ((float)t2-(float)t1);

	while(1)
	{

	}
}

